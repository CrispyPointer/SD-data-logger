ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SPI_FRAM.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.check_supported_device,"ax",%progbits
  18              		.align	1
  19              		.global	check_supported_device
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	check_supported_device:
  27              	.LVL0:
  28              	.LFB132:
  29              		.file 1 "Core/Src/SPI_FRAM.c"
   1:Core/Src/SPI_FRAM.c **** /*!
   2:Core/Src/SPI_FRAM.c ****  *  @file   SPI_FRAM.c
   3:Core/Src/SPI_FRAM.c ****  *  @brief  This is a redistribution of the SPI_FRAM chip driver implemented on STM32L412xx MCU usi
   4:Core/Src/SPI_FRAM.c ****  *  Phuoc K. Ly (SODAQ)
   5:Core/Src/SPI_FRAM.c ****  ******************************************************************************
   6:Core/Src/SPI_FRAM.c ****  *  Software License Agreement (BSD License)
   7:Core/Src/SPI_FRAM.c ****  *
   8:Core/Src/SPI_FRAM.c ****  *  Portions copyright (c) 2013, Adafruit Industries, All rights reserved.
   9:Core/Src/SPI_FRAM.c ****  *  Portioins copyright (c) 2022, phuocly2304, All rights reserved
  10:Core/Src/SPI_FRAM.c ****  *  
  11:Core/Src/SPI_FRAM.c ****  *  This software is a free software and there is NO WARRANTY.
  12:Core/Src/SPI_FRAM.c ****  *  No restriction on use. You can use, modify and redistribute it for
  13:Core/Src/SPI_FRAM.c ****  *  personal, non-profit or commercial products UNDER YOUR RESPONSIBILITY.
  14:Core/Src/SPI_FRAM.c ****  *  Redistributions of source code must retain the above copyright notice.
  15:Core/Src/SPI_FRAM.c ****  */
  16:Core/Src/SPI_FRAM.c **** 
  17:Core/Src/SPI_FRAM.c **** /*  
  18:Core/Src/SPI_FRAM.c ****     This code was derived by Phuoc K. Ly (SODAQ) from a copywrited (C) library written by K.Townsen
  19:Core/Src/SPI_FRAM.c ****     available at https://github.com/adafruit/Adafruit_FRAM_SPI
  20:Core/Src/SPI_FRAM.c ****     This file provides the FRAM driver functions and SPI code required to manage
  21:Core/Src/SPI_FRAM.c ****     an SPI-connected to the MB85RS2MTA FRAM 
  22:Core/Src/SPI_FRAM.c **** */
  23:Core/Src/SPI_FRAM.c **** 
  24:Core/Src/SPI_FRAM.c **** /*-----------------------------------------------------------------------------/
  25:Core/Src/SPI_FRAM.c **** / Additional user header to be used
  26:Core/Src/SPI_FRAM.c **** /-----------------------------------------------------------------------------*/
  27:Core/Src/SPI_FRAM.c **** #include "main.h"
  28:Core/Src/SPI_FRAM.c **** #include "stm32l4xx_hal.h"
  29:Core/Src/SPI_FRAM.c **** 
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 2


  30:Core/Src/SPI_FRAM.c **** /*SPI_FRAM header file*/
  31:Core/Src/SPI_FRAM.c **** #include "SPI_FRAM.h"
  32:Core/Src/SPI_FRAM.c **** 
  33:Core/Src/SPI_FRAM.c **** extern SPI_HandleTypeDef SPI_FRAM_HANDLE;
  34:Core/Src/SPI_FRAM.c **** SPI_FRAM spi_fram;
  35:Core/Src/SPI_FRAM.c **** /* Function prototype*/
  36:Core/Src/SPI_FRAM.c **** 
  37:Core/Src/SPI_FRAM.c **** #define FCLK_SLOW() { MODIFY_REG(FRAM_SPI_HANDLE.Instance->CR1, SPI_BAUDRATEPRESCALER_256, SPI_BAUD
  38:Core/Src/SPI_FRAM.c **** #define FCLK_FAST() { MODIFY_REG(FRAM_SPI_HANDLE.Instance->CR1, SPI_BAUDRATEPRESCALER_256, SPI_BAUD
  39:Core/Src/SPI_FRAM.c **** 
  40:Core/Src/SPI_FRAM.c **** #define CS_HIGH()	{HAL_GPIO_WritePin(FRAM_CS_GPIO_Port, FRAM_CS_Pin, GPIO_PIN_SET);}
  41:Core/Src/SPI_FRAM.c **** #define CS_LOW()	{HAL_GPIO_WritePin(FRAM_CS_GPIO_Port, FRAM_CS_Pin, GPIO_PIN_RESET);}
  42:Core/Src/SPI_FRAM.c **** 
  43:Core/Src/SPI_FRAM.c **** /// Supported flash devices
  44:Core/Src/SPI_FRAM.c **** const struct {
  45:Core/Src/SPI_FRAM.c ****   uint8_t manufID; ///< Manufacture ID
  46:Core/Src/SPI_FRAM.c ****   uint16_t prodID; ///< Product ID
  47:Core/Src/SPI_FRAM.c ****   uint32_t size;   ///< Size in bytes
  48:Core/Src/SPI_FRAM.c **** } _supported_devices[] = {
  49:Core/Src/SPI_FRAM.c ****     // Sorted in numerical order
  50:Core/Src/SPI_FRAM.c ****     // Fujitsu
  51:Core/Src/SPI_FRAM.c ****     {0x04, 0x0101, 2 * 1024UL},   // MB85RS16
  52:Core/Src/SPI_FRAM.c ****     {0x04, 0x0302, 8 * 1024UL},   // MB85RS64V
  53:Core/Src/SPI_FRAM.c ****     {0x04, 0x2303, 8 * 1024UL},   // MB85RS64T
  54:Core/Src/SPI_FRAM.c ****     {0x04, 0x2503, 32 * 1024UL},  // MB85RS256TY
  55:Core/Src/SPI_FRAM.c ****     {0x04, 0x4803, 256 * 1024UL}, // MB85RS2MTA
  56:Core/Src/SPI_FRAM.c ****     {0x04, 0x4903, 512 * 1024UL}, // MB85RS4MT
  57:Core/Src/SPI_FRAM.c **** 
  58:Core/Src/SPI_FRAM.c ****     // Cypress
  59:Core/Src/SPI_FRAM.c ****     {0x7F, 0x7F7f, 32 * 1024UL}, // FM25V02
  60:Core/Src/SPI_FRAM.c ****                                  // (manu = 7F7F7F7F7F7FC2, device = 0x2200)
  61:Core/Src/SPI_FRAM.c **** 
  62:Core/Src/SPI_FRAM.c ****     // Lapis
  63:Core/Src/SPI_FRAM.c ****     {0xAE, 0x8305, 8 * 1024UL} // MR45V064B
  64:Core/Src/SPI_FRAM.c **** };
  65:Core/Src/SPI_FRAM.c **** 
  66:Core/Src/SPI_FRAM.c **** /*!
  67:Core/Src/SPI_FRAM.c ****  *  @brief  Check if the flash device is supported
  68:Core/Src/SPI_FRAM.c ****  *  @param  manufID
  69:Core/Src/SPI_FRAM.c ****  *          ManufactureID to be checked
  70:Core/Src/SPI_FRAM.c ****  *  @param  prodID
  71:Core/Src/SPI_FRAM.c ****  *          ProductID to be checked
  72:Core/Src/SPI_FRAM.c ****  *  @return size of device, 0 if not supported
  73:Core/Src/SPI_FRAM.c ****  */
  74:Core/Src/SPI_FRAM.c ****   uint32_t check_supported_device(uint8_t *manufID, uint16_t *prodID) {
  30              		.loc 1 74 71 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  75:Core/Src/SPI_FRAM.c ****     for (uint8_t i = 0;
  35              		.loc 1 75 5 view .LVU1
  36              	.LBB2:
  37              		.loc 1 75 10 view .LVU2
  38              		.loc 1 75 18 is_stmt 0 view .LVU3
  39 0000 0023     		movs	r3, #0
  40              	.LVL1:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 3


  76:Core/Src/SPI_FRAM.c ****         i < sizeof(_supported_devices) / sizeof(_supported_devices[0]); i++) {
  41              		.loc 1 76 9 is_stmt 1 view .LVU4
  75:Core/Src/SPI_FRAM.c ****     for (uint8_t i = 0;
  42              		.loc 1 75 5 is_stmt 0 view .LVU5
  43 0002 072B     		cmp	r3, #7
  44 0004 1BD8     		bhi	.L11
  45              	.LBE2:
  74:Core/Src/SPI_FRAM.c ****     for (uint8_t i = 0;
  46              		.loc 1 74 71 view .LVU6
  47 0006 30B4     		push	{r4, r5}
  48              	.LCFI0:
  49              		.cfi_def_cfa_offset 8
  50              		.cfi_offset 4, -8
  51              		.cfi_offset 5, -4
  52 0008 03E0     		b	.L5
  53              	.L3:
  54              	.LBB3:
  55              		.loc 1 76 73 is_stmt 1 discriminator 1 view .LVU7
  56              		.loc 1 76 74 is_stmt 0 discriminator 1 view .LVU8
  57 000a 0133     		adds	r3, r3, #1
  58              	.LVL2:
  59              		.loc 1 76 74 discriminator 1 view .LVU9
  60 000c DBB2     		uxtb	r3, r3
  61              	.LVL3:
  62              		.loc 1 76 9 is_stmt 1 discriminator 1 view .LVU10
  75:Core/Src/SPI_FRAM.c ****     for (uint8_t i = 0;
  63              		.loc 1 75 5 is_stmt 0 discriminator 1 view .LVU11
  64 000e 072B     		cmp	r3, #7
  65 0010 12D8     		bhi	.L12
  66              	.L5:
  77:Core/Src/SPI_FRAM.c ****       if (*manufID == _supported_devices[i].manufID &&
  67              		.loc 1 77 7 is_stmt 1 view .LVU12
  68              		.loc 1 77 11 is_stmt 0 view .LVU13
  69 0012 0478     		ldrb	r4, [r0]	@ zero_extendqisi2
  70              		.loc 1 77 20 view .LVU14
  71 0014 1D46     		mov	r5, r3
  72              		.loc 1 77 44 view .LVU15
  73 0016 0B4A     		ldr	r2, .L13
  74 0018 12F83320 		ldrb	r2, [r2, r3, lsl #3]	@ zero_extendqisi2
  75              		.loc 1 77 10 view .LVU16
  76 001c 9442     		cmp	r4, r2
  77 001e F4D1     		bne	.L3
  78:Core/Src/SPI_FRAM.c ****           *prodID == _supported_devices[i].prodID)
  78              		.loc 1 78 11 discriminator 1 view .LVU17
  79 0020 0C88     		ldrh	r4, [r1]
  80              		.loc 1 78 43 discriminator 1 view .LVU18
  81 0022 084A     		ldr	r2, .L13
  82 0024 02EBC302 		add	r2, r2, r3, lsl #3
  83 0028 5288     		ldrh	r2, [r2, #2]
  77:Core/Src/SPI_FRAM.c ****       if (*manufID == _supported_devices[i].manufID &&
  84              		.loc 1 77 53 discriminator 1 view .LVU19
  85 002a 9442     		cmp	r4, r2
  86 002c EDD1     		bne	.L3
  79:Core/Src/SPI_FRAM.c ****         return _supported_devices[i].size;
  87              		.loc 1 79 9 is_stmt 1 view .LVU20
  88              		.loc 1 79 37 is_stmt 0 view .LVU21
  89 002e 054B     		ldr	r3, .L13
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 4


  90              	.LVL4:
  91              		.loc 1 79 37 view .LVU22
  92 0030 03EBC505 		add	r5, r3, r5, lsl #3
  93 0034 6868     		ldr	r0, [r5, #4]
  94              	.LVL5:
  95              		.loc 1 79 37 view .LVU23
  96 0036 00E0     		b	.L1
  97              	.LVL6:
  98              	.L12:
  99              		.loc 1 79 37 view .LVU24
 100              	.LBE3:
  80:Core/Src/SPI_FRAM.c ****     }
  81:Core/Src/SPI_FRAM.c ****     return 0;
 101              		.loc 1 81 12 view .LVU25
 102 0038 0020     		movs	r0, #0
 103              	.LVL7:
 104              	.L1:
  82:Core/Src/SPI_FRAM.c ****   }
 105              		.loc 1 82 3 view .LVU26
 106 003a 30BC     		pop	{r4, r5}
 107              	.LCFI1:
 108              		.cfi_restore 5
 109              		.cfi_restore 4
 110              		.cfi_def_cfa_offset 0
 111 003c 7047     		bx	lr
 112              	.LVL8:
 113              	.L11:
  81:Core/Src/SPI_FRAM.c ****   }
 114              		.loc 1 81 12 view .LVU27
 115 003e 0020     		movs	r0, #0
 116              	.LVL9:
 117              		.loc 1 82 3 view .LVU28
 118 0040 7047     		bx	lr
 119              	.L14:
 120 0042 00BF     		.align	2
 121              	.L13:
 122 0044 00000000 		.word	.LANCHOR0
 123              		.cfi_endproc
 124              	.LFE132:
 126              		.section	.text.FRAM_writeEnable,"ax",%progbits
 127              		.align	1
 128              		.global	FRAM_writeEnable
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv4-sp-d16
 134              	FRAM_writeEnable:
 135              	.LVL10:
 136              	.LFB134:
  83:Core/Src/SPI_FRAM.c **** 
  84:Core/Src/SPI_FRAM.c **** //   Serial.print(F("Unexpected Device: Manufacturer ID = 0x"));
  85:Core/Src/SPI_FRAM.c **** //   Serial.print(manufID, HEX);
  86:Core/Src/SPI_FRAM.c **** //   Serial.print(F(", Product ID = 0x"));
  87:Core/Src/SPI_FRAM.c **** //   Serial.println(prodID, HEX);
  88:Core/Src/SPI_FRAM.c **** 
  89:Core/Src/SPI_FRAM.c **** //   return 0;
  90:Core/Src/SPI_FRAM.c **** // }
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 5


  91:Core/Src/SPI_FRAM.c **** 
  92:Core/Src/SPI_FRAM.c **** /*!
  93:Core/Src/SPI_FRAM.c ****  *  @brief  Initializes SPI and configures the chip (call this function before
  94:Core/Src/SPI_FRAM.c ****  *          doing anything else)
  95:Core/Src/SPI_FRAM.c ****  *  @param  nAddressSizeBytes
  96:Core/Src/SPI_FRAM.c ****  *          sddress size in bytes (default 2)
  97:Core/Src/SPI_FRAM.c ****  *  @return true if successful
  98:Core/Src/SPI_FRAM.c ****  */
  99:Core/Src/SPI_FRAM.c **** bool FRAM_begin(uint8_t nAddressSizeBytes) {
 100:Core/Src/SPI_FRAM.c ****   /* Check SPI state*/
 101:Core/Src/SPI_FRAM.c ****   if (SPI_FRAM_HANDLE.State != HAL_SPI_STATE_READY) {
 102:Core/Src/SPI_FRAM.c ****     return false;
 103:Core/Src/SPI_FRAM.c ****   }
 104:Core/Src/SPI_FRAM.c ****   setAddressSize(3);
 105:Core/Src/SPI_FRAM.c ****   return true;
 106:Core/Src/SPI_FRAM.c **** }
 107:Core/Src/SPI_FRAM.c **** 
 108:Core/Src/SPI_FRAM.c **** /*!
 109:Core/Src/SPI_FRAM.c ****     @brief  Enables or disables writing to the SPI dram
 110:Core/Src/SPI_FRAM.c ****     @param enable
 111:Core/Src/SPI_FRAM.c ****             True enables writes, false disables writes
 112:Core/Src/SPI_FRAM.c **** */
 113:Core/Src/SPI_FRAM.c **** void FRAM_writeEnable(bool enable){
 137              		.loc 1 113 35 is_stmt 1 view -0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 8
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		.loc 1 113 35 is_stmt 0 view .LVU30
 142 0000 00B5     		push	{lr}
 143              	.LCFI2:
 144              		.cfi_def_cfa_offset 4
 145              		.cfi_offset 14, -4
 146 0002 83B0     		sub	sp, sp, #12
 147              	.LCFI3:
 148              		.cfi_def_cfa_offset 16
 114:Core/Src/SPI_FRAM.c ****   uint8_t cmd;
 149              		.loc 1 114 3 is_stmt 1 view .LVU31
 115:Core/Src/SPI_FRAM.c ****   if (enable){
 150              		.loc 1 115 3 view .LVU32
 151              		.loc 1 115 6 is_stmt 0 view .LVU33
 152 0004 C0B1     		cbz	r0, .L16
 116:Core/Src/SPI_FRAM.c ****     cmd = OPCODE_WREN;
 153              		.loc 1 116 5 is_stmt 1 view .LVU34
 154              		.loc 1 116 9 is_stmt 0 view .LVU35
 155 0006 0623     		movs	r3, #6
 156 0008 8DF80730 		strb	r3, [sp, #7]
 157              	.L17:
 117:Core/Src/SPI_FRAM.c ****   }
 118:Core/Src/SPI_FRAM.c ****   else cmd = OPCODE_WRDI;
 119:Core/Src/SPI_FRAM.c ****   CS_LOW();
 158              		.loc 1 119 3 is_stmt 1 view .LVU36
 159 000c 0022     		movs	r2, #0
 160 000e 2021     		movs	r1, #32
 161 0010 4FF09040 		mov	r0, #1207959552
 162              	.LVL11:
 163              		.loc 1 119 3 is_stmt 0 view .LVU37
 164 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 6


 165              	.LVL12:
 166              		.loc 1 119 11 is_stmt 1 view .LVU38
 120:Core/Src/SPI_FRAM.c ****   HAL_SPI_Transmit(&SPI_FRAM_HANDLE, &cmd, sizeof(cmd), 10);
 167              		.loc 1 120 3 view .LVU39
 168 0018 0A23     		movs	r3, #10
 169 001a 0122     		movs	r2, #1
 170 001c 0DF10701 		add	r1, sp, #7
 171 0020 0748     		ldr	r0, .L19
 172 0022 FFF7FEFF 		bl	HAL_SPI_Transmit
 173              	.LVL13:
 121:Core/Src/SPI_FRAM.c ****   CS_HIGH();
 174              		.loc 1 121 3 view .LVU40
 175 0026 0122     		movs	r2, #1
 176 0028 2021     		movs	r1, #32
 177 002a 4FF09040 		mov	r0, #1207959552
 178 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 179              	.LVL14:
 180              		.loc 1 121 12 view .LVU41
 122:Core/Src/SPI_FRAM.c **** }
 181              		.loc 1 122 1 is_stmt 0 view .LVU42
 182 0032 03B0     		add	sp, sp, #12
 183              	.LCFI4:
 184              		.cfi_remember_state
 185              		.cfi_def_cfa_offset 4
 186              		@ sp needed
 187 0034 5DF804FB 		ldr	pc, [sp], #4
 188              	.LVL15:
 189              	.L16:
 190              	.LCFI5:
 191              		.cfi_restore_state
 118:Core/Src/SPI_FRAM.c ****   CS_LOW();
 192              		.loc 1 118 8 is_stmt 1 view .LVU43
 118:Core/Src/SPI_FRAM.c ****   CS_LOW();
 193              		.loc 1 118 12 is_stmt 0 view .LVU44
 194 0038 0423     		movs	r3, #4
 195 003a 8DF80730 		strb	r3, [sp, #7]
 196 003e E5E7     		b	.L17
 197              	.L20:
 198              		.align	2
 199              	.L19:
 200 0040 00000000 		.word	hspi1
 201              		.cfi_endproc
 202              	.LFE134:
 204              		.section	.text.FRAM_sleepEnable,"ax",%progbits
 205              		.align	1
 206              		.global	FRAM_sleepEnable
 207              		.syntax unified
 208              		.thumb
 209              		.thumb_func
 210              		.fpu fpv4-sp-d16
 212              	FRAM_sleepEnable:
 213              	.LVL16:
 214              	.LFB135:
 123:Core/Src/SPI_FRAM.c **** 
 124:Core/Src/SPI_FRAM.c **** /*!
 125:Core/Src/SPI_FRAM.c ****  * @brief Enables or disables sleep mode of the FRAM  
 126:Core/Src/SPI_FRAM.c ****  * @param enable
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 7


 127:Core/Src/SPI_FRAM.c ****  *              True enables sleep, flash disables sleep
 128:Core/Src/SPI_FRAM.c ****  */
 129:Core/Src/SPI_FRAM.c **** void FRAM_sleepEnable(bool enable){
 215              		.loc 1 129 35 is_stmt 1 view -0
 216              		.cfi_startproc
 217              		@ args = 0, pretend = 0, frame = 8
 218              		@ frame_needed = 0, uses_anonymous_args = 0
 219              		.loc 1 129 35 is_stmt 0 view .LVU46
 220 0000 00B5     		push	{lr}
 221              	.LCFI6:
 222              		.cfi_def_cfa_offset 4
 223              		.cfi_offset 14, -4
 224 0002 83B0     		sub	sp, sp, #12
 225              	.LCFI7:
 226              		.cfi_def_cfa_offset 16
 130:Core/Src/SPI_FRAM.c ****   uint8_t cmd;
 227              		.loc 1 130 3 is_stmt 1 view .LVU47
 131:Core/Src/SPI_FRAM.c ****   if(enable){
 228              		.loc 1 131 3 view .LVU48
 229              		.loc 1 131 5 is_stmt 0 view .LVU49
 230 0004 C0B1     		cbz	r0, .L22
 132:Core/Src/SPI_FRAM.c ****     cmd = OPCODE_SLEEP;
 231              		.loc 1 132 5 is_stmt 1 view .LVU50
 232              		.loc 1 132 9 is_stmt 0 view .LVU51
 233 0006 B923     		movs	r3, #185
 234 0008 8DF80730 		strb	r3, [sp, #7]
 133:Core/Src/SPI_FRAM.c ****     CS_LOW();
 235              		.loc 1 133 5 is_stmt 1 view .LVU52
 236 000c 0022     		movs	r2, #0
 237 000e 2021     		movs	r1, #32
 238 0010 4FF09040 		mov	r0, #1207959552
 239              	.LVL17:
 240              		.loc 1 133 5 is_stmt 0 view .LVU53
 241 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
 242              	.LVL18:
 243              		.loc 1 133 13 is_stmt 1 view .LVU54
 134:Core/Src/SPI_FRAM.c ****     HAL_SPI_Transmit(&SPI_FRAM_HANDLE, &cmd, sizeof(cmd), 10);
 244              		.loc 1 134 5 view .LVU55
 245 0018 0A23     		movs	r3, #10
 246 001a 0122     		movs	r2, #1
 247 001c 0DF10701 		add	r1, sp, #7
 248 0020 0D48     		ldr	r0, .L25
 249 0022 FFF7FEFF 		bl	HAL_SPI_Transmit
 250              	.LVL19:
 135:Core/Src/SPI_FRAM.c ****     CS_HIGH();
 251              		.loc 1 135 5 view .LVU56
 252 0026 0122     		movs	r2, #1
 253 0028 2021     		movs	r1, #32
 254 002a 4FF09040 		mov	r0, #1207959552
 255 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 256              	.LVL20:
 257              		.loc 1 135 14 view .LVU57
 258              	.L21:
 136:Core/Src/SPI_FRAM.c ****   }
 137:Core/Src/SPI_FRAM.c ****   else{
 138:Core/Src/SPI_FRAM.c ****     CS_LOW();
 139:Core/Src/SPI_FRAM.c ****     HAL_Delay(1);
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 8


 140:Core/Src/SPI_FRAM.c ****     CS_HIGH();
 141:Core/Src/SPI_FRAM.c ****   }
 142:Core/Src/SPI_FRAM.c **** }
 259              		.loc 1 142 1 is_stmt 0 view .LVU58
 260 0032 03B0     		add	sp, sp, #12
 261              	.LCFI8:
 262              		.cfi_remember_state
 263              		.cfi_def_cfa_offset 4
 264              		@ sp needed
 265 0034 5DF804FB 		ldr	pc, [sp], #4
 266              	.LVL21:
 267              	.L22:
 268              	.LCFI9:
 269              		.cfi_restore_state
 138:Core/Src/SPI_FRAM.c ****     HAL_Delay(1);
 270              		.loc 1 138 5 is_stmt 1 view .LVU59
 271 0038 0022     		movs	r2, #0
 272 003a 2021     		movs	r1, #32
 273 003c 4FF09040 		mov	r0, #1207959552
 274              	.LVL22:
 138:Core/Src/SPI_FRAM.c ****     HAL_Delay(1);
 275              		.loc 1 138 5 is_stmt 0 view .LVU60
 276 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
 277              	.LVL23:
 138:Core/Src/SPI_FRAM.c ****     HAL_Delay(1);
 278              		.loc 1 138 13 is_stmt 1 view .LVU61
 139:Core/Src/SPI_FRAM.c ****     CS_HIGH();
 279              		.loc 1 139 5 view .LVU62
 280 0044 0120     		movs	r0, #1
 281 0046 FFF7FEFF 		bl	HAL_Delay
 282              	.LVL24:
 140:Core/Src/SPI_FRAM.c ****   }
 283              		.loc 1 140 5 view .LVU63
 284 004a 0122     		movs	r2, #1
 285 004c 2021     		movs	r1, #32
 286 004e 4FF09040 		mov	r0, #1207959552
 287 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 288              	.LVL25:
 140:Core/Src/SPI_FRAM.c ****   }
 289              		.loc 1 140 14 view .LVU64
 290              		.loc 1 142 1 is_stmt 0 view .LVU65
 291 0056 ECE7     		b	.L21
 292              	.L26:
 293              		.align	2
 294              	.L25:
 295 0058 00000000 		.word	hspi1
 296              		.cfi_endproc
 297              	.LFE135:
 299              		.section	.text.FRAM_write8,"ax",%progbits
 300              		.align	1
 301              		.global	FRAM_write8
 302              		.syntax unified
 303              		.thumb
 304              		.thumb_func
 305              		.fpu fpv4-sp-d16
 307              	FRAM_write8:
 308              	.LVL26:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 9


 309              	.LFB136:
 143:Core/Src/SPI_FRAM.c **** 
 144:Core/Src/SPI_FRAM.c **** /*!
 145:Core/Src/SPI_FRAM.c ****  *  @brief  Writes a byte at the specific FRAM address
 146:Core/Src/SPI_FRAM.c ****  *  @param addr
 147:Core/Src/SPI_FRAM.c ****  *         The 32-bit address to write to in FRAM memory
 148:Core/Src/SPI_FRAM.c ****  *  @param value
 149:Core/Src/SPI_FRAM.c ****  *         The 8-bit value to write at framAddr
 150:Core/Src/SPI_FRAM.c ****  */
 151:Core/Src/SPI_FRAM.c **** void FRAM_write8(uint32_t addr, uint8_t value) {
 310              		.loc 1 151 48 is_stmt 1 view -0
 311              		.cfi_startproc
 312              		@ args = 0, pretend = 0, frame = 16
 313              		@ frame_needed = 0, uses_anonymous_args = 0
 314              		.loc 1 151 48 is_stmt 0 view .LVU67
 315 0000 30B5     		push	{r4, r5, lr}
 316              	.LCFI10:
 317              		.cfi_def_cfa_offset 12
 318              		.cfi_offset 4, -12
 319              		.cfi_offset 5, -8
 320              		.cfi_offset 14, -4
 321 0002 85B0     		sub	sp, sp, #20
 322              	.LCFI11:
 323              		.cfi_def_cfa_offset 32
 152:Core/Src/SPI_FRAM.c ****   uint8_t buffer[10];
 324              		.loc 1 152 3 is_stmt 1 view .LVU68
 153:Core/Src/SPI_FRAM.c ****   uint8_t i = 0;
 325              		.loc 1 153 3 view .LVU69
 326              	.LVL27:
 154:Core/Src/SPI_FRAM.c **** 
 155:Core/Src/SPI_FRAM.c ****   buffer[i++] = OPCODE_WRITE;
 327              		.loc 1 155 3 view .LVU70
 328              		.loc 1 155 15 is_stmt 0 view .LVU71
 329 0004 0223     		movs	r3, #2
 330 0006 8DF80430 		strb	r3, [sp, #4]
 156:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 3)
 331              		.loc 1 156 3 is_stmt 1 view .LVU72
 332              		.loc 1 156 15 is_stmt 0 view .LVU73
 333 000a 1D4B     		ldr	r3, .L32
 334 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 335              		.loc 1 156 6 view .LVU74
 336 000e 032B     		cmp	r3, #3
 337 0010 34D9     		bls	.L30
 157:Core/Src/SPI_FRAM.c ****     buffer[i++] = (uint8_t)(addr >> 24);
 338              		.loc 1 157 5 is_stmt 1 view .LVU75
 339              	.LVL28:
 340              		.loc 1 157 19 is_stmt 0 view .LVU76
 341 0012 020E     		lsrs	r2, r0, #24
 342              		.loc 1 157 17 view .LVU77
 343 0014 8DF80520 		strb	r2, [sp, #5]
 344              		.loc 1 157 13 view .LVU78
 345 0018 0222     		movs	r2, #2
 346              	.LVL29:
 347              	.L28:
 158:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 2)
 348              		.loc 1 158 3 is_stmt 1 view .LVU79
 349              		.loc 1 158 6 is_stmt 0 view .LVU80
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 10


 350 001a 022B     		cmp	r3, #2
 351 001c 07D9     		bls	.L29
 159:Core/Src/SPI_FRAM.c ****     buffer[i++] = (uint8_t)(addr >> 16);
 352              		.loc 1 159 5 is_stmt 1 view .LVU81
 353              		.loc 1 159 13 is_stmt 0 view .LVU82
 354 001e 541C     		adds	r4, r2, #1
 355              	.LVL30:
 356              		.loc 1 159 19 view .LVU83
 357 0020 C0F30743 		ubfx	r3, r0, #16, #8
 358              		.loc 1 159 17 view .LVU84
 359 0024 04AD     		add	r5, sp, #16
 360 0026 2A44     		add	r2, r2, r5
 361 0028 02F80C3C 		strb	r3, [r2, #-12]
 362              		.loc 1 159 13 view .LVU85
 363 002c E2B2     		uxtb	r2, r4
 364              	.LVL31:
 365              	.L29:
 160:Core/Src/SPI_FRAM.c ****   buffer[i++] = (uint8_t)(addr >> 8);
 366              		.loc 1 160 3 is_stmt 1 view .LVU86
 367              		.loc 1 160 11 is_stmt 0 view .LVU87
 368 002e 541C     		adds	r4, r2, #1
 369              	.LVL32:
 370              		.loc 1 160 17 view .LVU88
 371 0030 C0F30725 		ubfx	r5, r0, #8, #8
 372              		.loc 1 160 15 view .LVU89
 373 0034 04AB     		add	r3, sp, #16
 374 0036 1344     		add	r3, r3, r2
 375 0038 03F80C5C 		strb	r5, [r3, #-12]
 161:Core/Src/SPI_FRAM.c ****   buffer[i++] = (uint8_t)(addr & 0xFF);
 376              		.loc 1 161 3 is_stmt 1 view .LVU90
 377              		.loc 1 161 11 is_stmt 0 view .LVU91
 378 003c 931C     		adds	r3, r2, #2
 379              	.LVL33:
 380              		.loc 1 161 15 view .LVU92
 381 003e 04AD     		add	r5, sp, #16
 382 0040 55FA84F4 		uxtab	r4, r5, r4
 383 0044 04F80C0C 		strb	r0, [r4, #-12]
 162:Core/Src/SPI_FRAM.c ****   buffer[i++] = value;
 384              		.loc 1 162 3 is_stmt 1 view .LVU93
 385              		.loc 1 162 11 is_stmt 0 view .LVU94
 386 0048 0332     		adds	r2, r2, #3
 387 004a D4B2     		uxtb	r4, r2
 388              	.LVL34:
 389              		.loc 1 162 15 view .LVU95
 390 004c 55FA83F3 		uxtab	r3, r5, r3
 391 0050 03F80C1C 		strb	r1, [r3, #-12]
 163:Core/Src/SPI_FRAM.c **** 
 164:Core/Src/SPI_FRAM.c ****   CS_LOW();
 392              		.loc 1 164 3 is_stmt 1 view .LVU96
 393 0054 0022     		movs	r2, #0
 394 0056 2021     		movs	r1, #32
 395              	.LVL35:
 396              		.loc 1 164 3 is_stmt 0 view .LVU97
 397 0058 4FF09040 		mov	r0, #1207959552
 398              	.LVL36:
 399              		.loc 1 164 3 view .LVU98
 400 005c FFF7FEFF 		bl	HAL_GPIO_WritePin
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 11


 401              	.LVL37:
 402              		.loc 1 164 11 is_stmt 1 view .LVU99
 165:Core/Src/SPI_FRAM.c ****   HAL_SPI_Transmit(&SPI_FRAM_HANDLE, (uint8_t*)buffer, i, 10);
 403              		.loc 1 165 3 view .LVU100
 404 0060 0A23     		movs	r3, #10
 405 0062 2246     		mov	r2, r4
 406 0064 01A9     		add	r1, sp, #4
 407 0066 0748     		ldr	r0, .L32+4
 408 0068 FFF7FEFF 		bl	HAL_SPI_Transmit
 409              	.LVL38:
 166:Core/Src/SPI_FRAM.c ****   CS_HIGH();
 410              		.loc 1 166 3 view .LVU101
 411 006c 0122     		movs	r2, #1
 412 006e 2021     		movs	r1, #32
 413 0070 4FF09040 		mov	r0, #1207959552
 414 0074 FFF7FEFF 		bl	HAL_GPIO_WritePin
 415              	.LVL39:
 416              		.loc 1 166 12 view .LVU102
 167:Core/Src/SPI_FRAM.c ****   //spi_dev->write(buffer, i);
 168:Core/Src/SPI_FRAM.c **** }
 417              		.loc 1 168 1 is_stmt 0 view .LVU103
 418 0078 05B0     		add	sp, sp, #20
 419              	.LCFI12:
 420              		.cfi_remember_state
 421              		.cfi_def_cfa_offset 12
 422              		@ sp needed
 423 007a 30BD     		pop	{r4, r5, pc}
 424              	.LVL40:
 425              	.L30:
 426              	.LCFI13:
 427              		.cfi_restore_state
 155:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 3)
 428              		.loc 1 155 11 view .LVU104
 429 007c 0122     		movs	r2, #1
 430 007e CCE7     		b	.L28
 431              	.L33:
 432              		.align	2
 433              	.L32:
 434 0080 00000000 		.word	spi_fram
 435 0084 00000000 		.word	hspi1
 436              		.cfi_endproc
 437              	.LFE136:
 439              		.section	.text.FRAM_write,"ax",%progbits
 440              		.align	1
 441              		.global	FRAM_write
 442              		.syntax unified
 443              		.thumb
 444              		.thumb_func
 445              		.fpu fpv4-sp-d16
 447              	FRAM_write:
 448              	.LVL41:
 449              	.LFB137:
 169:Core/Src/SPI_FRAM.c **** 
 170:Core/Src/SPI_FRAM.c **** /*!
 171:Core/Src/SPI_FRAM.c ****  *   @brief  Writes string starting at the specific FRAM address
 172:Core/Src/SPI_FRAM.c ****  *   @param addr
 173:Core/Src/SPI_FRAM.c ****  *           The 32-bit address to write to in FRAM memory
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 12


 174:Core/Src/SPI_FRAM.c ****  *   @param values
 175:Core/Src/SPI_FRAM.c ****  *           The pointer to an array of 8-bit values to write starting at addr
 176:Core/Src/SPI_FRAM.c ****  */
 177:Core/Src/SPI_FRAM.c **** uint8_t FRAM_write(uint32_t *addr, char value[]){
 450              		.loc 1 177 49 is_stmt 1 view -0
 451              		.cfi_startproc
 452              		@ args = 0, pretend = 0, frame = 0
 453              		@ frame_needed = 0, uses_anonymous_args = 0
 454              		.loc 1 177 49 is_stmt 0 view .LVU106
 455 0000 70B5     		push	{r4, r5, r6, lr}
 456              	.LCFI14:
 457              		.cfi_def_cfa_offset 16
 458              		.cfi_offset 4, -16
 459              		.cfi_offset 5, -12
 460              		.cfi_offset 6, -8
 461              		.cfi_offset 14, -4
 462 0002 0646     		mov	r6, r0
 463 0004 0D46     		mov	r5, r1
 178:Core/Src/SPI_FRAM.c ****   FRAM_writeEnable(true);
 464              		.loc 1 178 3 is_stmt 1 view .LVU107
 465 0006 0120     		movs	r0, #1
 466              	.LVL42:
 467              		.loc 1 178 3 is_stmt 0 view .LVU108
 468 0008 FFF7FEFF 		bl	FRAM_writeEnable
 469              	.LVL43:
 179:Core/Src/SPI_FRAM.c ****   int iterator = 0; //Point to FRAM address
 470              		.loc 1 179 3 is_stmt 1 view .LVU109
 180:Core/Src/SPI_FRAM.c ****   while(iterator < strlen(value)){
 471              		.loc 1 180 3 view .LVU110
 179:Core/Src/SPI_FRAM.c ****   int iterator = 0; //Point to FRAM address
 472              		.loc 1 179 7 is_stmt 0 view .LVU111
 473 000c 0024     		movs	r4, #0
 474              	.LVL44:
 475              	.L35:
 476              		.loc 1 180 8 is_stmt 1 view .LVU112
 477              		.loc 1 180 20 is_stmt 0 view .LVU113
 478 000e 2846     		mov	r0, r5
 479 0010 FFF7FEFF 		bl	strlen
 480              	.LVL45:
 481              		.loc 1 180 8 view .LVU114
 482 0014 A042     		cmp	r0, r4
 483 0016 06D9     		bls	.L38
 181:Core/Src/SPI_FRAM.c ****     FRAM_write8(*addr + iterator, value[iterator]);
 484              		.loc 1 181 5 is_stmt 1 view .LVU115
 485              		.loc 1 181 17 is_stmt 0 view .LVU116
 486 0018 3068     		ldr	r0, [r6]
 487              		.loc 1 181 5 view .LVU117
 488 001a 295D     		ldrb	r1, [r5, r4]	@ zero_extendqisi2
 489 001c 2044     		add	r0, r0, r4
 490 001e FFF7FEFF 		bl	FRAM_write8
 491              	.LVL46:
 182:Core/Src/SPI_FRAM.c ****     iterator++;
 492              		.loc 1 182 5 is_stmt 1 view .LVU118
 493              		.loc 1 182 13 is_stmt 0 view .LVU119
 494 0022 0134     		adds	r4, r4, #1
 495              	.LVL47:
 496              		.loc 1 182 13 view .LVU120
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 13


 497 0024 F3E7     		b	.L35
 498              	.L38:
 183:Core/Src/SPI_FRAM.c ****   }
 184:Core/Src/SPI_FRAM.c ****   *addr += strlen(value);
 499              		.loc 1 184 3 is_stmt 1 view .LVU121
 500              		.loc 1 184 9 is_stmt 0 view .LVU122
 501 0026 3368     		ldr	r3, [r6]
 502 0028 1844     		add	r0, r0, r3
 503 002a 3060     		str	r0, [r6]
 185:Core/Src/SPI_FRAM.c ****   FRAM_writeEnable(false);
 504              		.loc 1 185 3 is_stmt 1 view .LVU123
 505 002c 0020     		movs	r0, #0
 506 002e FFF7FEFF 		bl	FRAM_writeEnable
 507              	.LVL48:
 186:Core/Src/SPI_FRAM.c ****   return FRAM_OK;
 508              		.loc 1 186 3 view .LVU124
 187:Core/Src/SPI_FRAM.c **** }
 509              		.loc 1 187 1 is_stmt 0 view .LVU125
 510 0032 0020     		movs	r0, #0
 511 0034 70BD     		pop	{r4, r5, r6, pc}
 512              		.loc 1 187 1 view .LVU126
 513              		.cfi_endproc
 514              	.LFE137:
 516              		.section	.text.FRAM_read8,"ax",%progbits
 517              		.align	1
 518              		.global	FRAM_read8
 519              		.syntax unified
 520              		.thumb
 521              		.thumb_func
 522              		.fpu fpv4-sp-d16
 524              	FRAM_read8:
 525              	.LVL49:
 526              	.LFB138:
 188:Core/Src/SPI_FRAM.c **** 
 189:Core/Src/SPI_FRAM.c **** /*!
 190:Core/Src/SPI_FRAM.c ****  *   @brief  Reads an 8 bit value from the specified FRAM address
 191:Core/Src/SPI_FRAM.c ****  *   @param  addr
 192:Core/Src/SPI_FRAM.c ****  *           The 32-bit address to read from in FRAM memory
 193:Core/Src/SPI_FRAM.c ****  *   @return The 8-bit value retrieved at framAddr
 194:Core/Src/SPI_FRAM.c ****  */
 195:Core/Src/SPI_FRAM.c **** uint8_t FRAM_read8(uint32_t addr) {
 527              		.loc 1 195 35 is_stmt 1 view -0
 528              		.cfi_startproc
 529              		@ args = 0, pretend = 0, frame = 16
 530              		@ frame_needed = 0, uses_anonymous_args = 0
 531              		.loc 1 195 35 is_stmt 0 view .LVU128
 532 0000 30B5     		push	{r4, r5, lr}
 533              	.LCFI15:
 534              		.cfi_def_cfa_offset 12
 535              		.cfi_offset 4, -12
 536              		.cfi_offset 5, -8
 537              		.cfi_offset 14, -4
 538 0002 85B0     		sub	sp, sp, #20
 539              	.LCFI16:
 540              		.cfi_def_cfa_offset 32
 196:Core/Src/SPI_FRAM.c ****   uint8_t buffer[10], val;
 541              		.loc 1 196 3 is_stmt 1 view .LVU129
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 14


 197:Core/Src/SPI_FRAM.c ****   uint8_t i = 0;
 542              		.loc 1 197 3 view .LVU130
 543              	.LVL50:
 198:Core/Src/SPI_FRAM.c **** 
 199:Core/Src/SPI_FRAM.c ****   buffer[i++] = OPCODE_READ;
 544              		.loc 1 199 3 view .LVU131
 545              		.loc 1 199 15 is_stmt 0 view .LVU132
 546 0004 0323     		movs	r3, #3
 547 0006 8DF80430 		strb	r3, [sp, #4]
 200:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 3)
 548              		.loc 1 200 3 is_stmt 1 view .LVU133
 549              		.loc 1 200 15 is_stmt 0 view .LVU134
 550 000a 204B     		ldr	r3, .L44
 551 000c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 552              		.loc 1 200 6 view .LVU135
 553 000e 032B     		cmp	r3, #3
 554 0010 39D9     		bls	.L42
 201:Core/Src/SPI_FRAM.c ****     buffer[i++] = (uint8_t)(addr >> 24);
 555              		.loc 1 201 5 is_stmt 1 view .LVU136
 556              	.LVL51:
 557              		.loc 1 201 19 is_stmt 0 view .LVU137
 558 0012 020E     		lsrs	r2, r0, #24
 559              		.loc 1 201 17 view .LVU138
 560 0014 8DF80520 		strb	r2, [sp, #5]
 561              		.loc 1 201 13 view .LVU139
 562 0018 0222     		movs	r2, #2
 563              	.LVL52:
 564              	.L40:
 202:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 2)
 565              		.loc 1 202 3 is_stmt 1 view .LVU140
 566              		.loc 1 202 6 is_stmt 0 view .LVU141
 567 001a 022B     		cmp	r3, #2
 568 001c 07D9     		bls	.L41
 203:Core/Src/SPI_FRAM.c ****     buffer[i++] = (uint8_t)(addr >> 16);
 569              		.loc 1 203 5 is_stmt 1 view .LVU142
 570              		.loc 1 203 13 is_stmt 0 view .LVU143
 571 001e 511C     		adds	r1, r2, #1
 572              	.LVL53:
 573              		.loc 1 203 19 view .LVU144
 574 0020 C0F30743 		ubfx	r3, r0, #16, #8
 575              		.loc 1 203 17 view .LVU145
 576 0024 04AC     		add	r4, sp, #16
 577 0026 2244     		add	r2, r2, r4
 578 0028 02F80C3C 		strb	r3, [r2, #-12]
 579              		.loc 1 203 13 view .LVU146
 580 002c CAB2     		uxtb	r2, r1
 581              	.LVL54:
 582              	.L41:
 204:Core/Src/SPI_FRAM.c ****   buffer[i++] = (uint8_t)(addr >> 8);
 583              		.loc 1 204 3 is_stmt 1 view .LVU147
 584              		.loc 1 204 11 is_stmt 0 view .LVU148
 585 002e 531C     		adds	r3, r2, #1
 586              	.LVL55:
 587              		.loc 1 204 17 view .LVU149
 588 0030 C0F30724 		ubfx	r4, r0, #8, #8
 589              		.loc 1 204 15 view .LVU150
 590 0034 04A9     		add	r1, sp, #16
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 15


 591 0036 1144     		add	r1, r1, r2
 592 0038 01F80C4C 		strb	r4, [r1, #-12]
 205:Core/Src/SPI_FRAM.c ****   buffer[i++] = (uint8_t)(addr & 0xFF);
 593              		.loc 1 205 3 is_stmt 1 view .LVU151
 594              		.loc 1 205 11 is_stmt 0 view .LVU152
 595 003c 0232     		adds	r2, r2, #2
 596 003e D4B2     		uxtb	r4, r2
 597              	.LVL56:
 598              		.loc 1 205 15 view .LVU153
 599 0040 04AA     		add	r2, sp, #16
 600 0042 52FA83F3 		uxtab	r3, r2, r3
 601 0046 03F80C0C 		strb	r0, [r3, #-12]
 206:Core/Src/SPI_FRAM.c **** 
 207:Core/Src/SPI_FRAM.c ****   CS_LOW();
 602              		.loc 1 207 3 is_stmt 1 view .LVU154
 603 004a 0022     		movs	r2, #0
 604 004c 2021     		movs	r1, #32
 605 004e 4FF09040 		mov	r0, #1207959552
 606              	.LVL57:
 607              		.loc 1 207 3 is_stmt 0 view .LVU155
 608 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 609              	.LVL58:
 610              		.loc 1 207 11 is_stmt 1 view .LVU156
 208:Core/Src/SPI_FRAM.c ****   HAL_SPI_Transmit(&SPI_FRAM_HANDLE, (uint8_t*)buffer, i, 10);
 611              		.loc 1 208 3 view .LVU157
 612 0056 0E4D     		ldr	r5, .L44+4
 613 0058 0A23     		movs	r3, #10
 614 005a 2246     		mov	r2, r4
 615 005c 01A9     		add	r1, sp, #4
 616 005e 2846     		mov	r0, r5
 617 0060 FFF7FEFF 		bl	HAL_SPI_Transmit
 618              	.LVL59:
 209:Core/Src/SPI_FRAM.c ****   HAL_SPI_Receive(&SPI_FRAM_HANDLE, &val,sizeof(val), 10);
 619              		.loc 1 209 3 view .LVU158
 620 0064 0A23     		movs	r3, #10
 621 0066 0122     		movs	r2, #1
 622 0068 0DF10301 		add	r1, sp, #3
 623 006c 2846     		mov	r0, r5
 624 006e FFF7FEFF 		bl	HAL_SPI_Receive
 625              	.LVL60:
 210:Core/Src/SPI_FRAM.c ****   CS_HIGH();
 626              		.loc 1 210 3 view .LVU159
 627 0072 0122     		movs	r2, #1
 628 0074 2021     		movs	r1, #32
 629 0076 4FF09040 		mov	r0, #1207959552
 630 007a FFF7FEFF 		bl	HAL_GPIO_WritePin
 631              	.LVL61:
 632              		.loc 1 210 12 view .LVU160
 211:Core/Src/SPI_FRAM.c ****   //spi_dev->write_then_read(buffer, i, &val, 1);
 212:Core/Src/SPI_FRAM.c **** 
 213:Core/Src/SPI_FRAM.c ****   return val;
 633              		.loc 1 213 3 view .LVU161
 214:Core/Src/SPI_FRAM.c **** }
 634              		.loc 1 214 1 is_stmt 0 view .LVU162
 635 007e 9DF80300 		ldrb	r0, [sp, #3]	@ zero_extendqisi2
 636 0082 05B0     		add	sp, sp, #20
 637              	.LCFI17:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 16


 638              		.cfi_remember_state
 639              		.cfi_def_cfa_offset 12
 640              		@ sp needed
 641 0084 30BD     		pop	{r4, r5, pc}
 642              	.LVL62:
 643              	.L42:
 644              	.LCFI18:
 645              		.cfi_restore_state
 199:Core/Src/SPI_FRAM.c ****   if (spi_fram._nAddressSizeBytes > 3)
 646              		.loc 1 199 11 view .LVU163
 647 0086 0122     		movs	r2, #1
 648 0088 C7E7     		b	.L40
 649              	.L45:
 650 008a 00BF     		.align	2
 651              	.L44:
 652 008c 00000000 		.word	spi_fram
 653 0090 00000000 		.word	hspi1
 654              		.cfi_endproc
 655              	.LFE138:
 657              		.section	.text.FRAM_read,"ax",%progbits
 658              		.align	1
 659              		.global	FRAM_read
 660              		.syntax unified
 661              		.thumb
 662              		.thumb_func
 663              		.fpu fpv4-sp-d16
 665              	FRAM_read:
 666              	.LVL63:
 667              	.LFB139:
 215:Core/Src/SPI_FRAM.c **** 
 216:Core/Src/SPI_FRAM.c **** /*!
 217:Core/Src/SPI_FRAM.c ****  *   @brief  Read 'string' starting at the specific FRAM address
 218:Core/Src/SPI_FRAM.c ****  *   @param  addr
 219:Core/Src/SPI_FRAM.c ****  *           The 32-bit address to write to in FRAM memory
 220:Core/Src/SPI_FRAM.c ****  *   @param  values
 221:Core/Src/SPI_FRAM.c ****  *           The pointer to an array of 8-bit values to read starting at addr
 222:Core/Src/SPI_FRAM.c ****  */
 223:Core/Src/SPI_FRAM.c **** const char* FRAM_read(uint32_t *addr){
 668              		.loc 1 223 38 is_stmt 1 view -0
 669              		.cfi_startproc
 670              		@ args = 0, pretend = 0, frame = 304
 671              		@ frame_needed = 0, uses_anonymous_args = 0
 672              		.loc 1 223 38 is_stmt 0 view .LVU165
 673 0000 30B5     		push	{r4, r5, lr}
 674              	.LCFI19:
 675              		.cfi_def_cfa_offset 12
 676              		.cfi_offset 4, -12
 677              		.cfi_offset 5, -8
 678              		.cfi_offset 14, -4
 679 0002 CDB0     		sub	sp, sp, #308
 680              	.LCFI20:
 681              		.cfi_def_cfa_offset 320
 682 0004 0546     		mov	r5, r0
 224:Core/Src/SPI_FRAM.c ****   int index = 0;
 683              		.loc 1 224 3 is_stmt 1 view .LVU166
 684              	.LVL64:
 225:Core/Src/SPI_FRAM.c ****   int buffer_index = *addr;
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 17


 685              		.loc 1 225 3 view .LVU167
 226:Core/Src/SPI_FRAM.c ****   char value[300] = {'\0'};
 686              		.loc 1 226 3 view .LVU168
 687              		.loc 1 226 8 is_stmt 0 view .LVU169
 688 0006 0024     		movs	r4, #0
 689 0008 0194     		str	r4, [sp, #4]
 690              	.LVL65:
 691              		.loc 1 226 8 view .LVU170
 692 000a 4FF49472 		mov	r2, #296
 693 000e 2146     		mov	r1, r4
 694 0010 02A8     		add	r0, sp, #8
 695              	.LVL66:
 696              		.loc 1 226 8 view .LVU171
 697 0012 FFF7FEFF 		bl	memset
 698              	.LVL67:
 699              	.L48:
 227:Core/Src/SPI_FRAM.c ****   while(1){
 700              		.loc 1 227 3 is_stmt 1 view .LVU172
 228:Core/Src/SPI_FRAM.c ****     value[index] = FRAM_read8(*addr);
 701              		.loc 1 228 5 view .LVU173
 702              		.loc 1 228 20 is_stmt 0 view .LVU174
 703 0016 2868     		ldr	r0, [r5]
 704 0018 FFF7FEFF 		bl	FRAM_read8
 705              	.LVL68:
 706              		.loc 1 228 18 view .LVU175
 707 001c 01AB     		add	r3, sp, #4
 708 001e 1855     		strb	r0, [r3, r4]
 229:Core/Src/SPI_FRAM.c ****     ++*addr;
 709              		.loc 1 229 5 is_stmt 1 view .LVU176
 710              		.loc 1 229 7 is_stmt 0 view .LVU177
 711 0020 2B68     		ldr	r3, [r5]
 712              		.loc 1 229 5 view .LVU178
 713 0022 0133     		adds	r3, r3, #1
 714 0024 2B60     		str	r3, [r5]
 230:Core/Src/SPI_FRAM.c ****     if(value[index]=='\n'){
 715              		.loc 1 230 5 is_stmt 1 view .LVU179
 716              		.loc 1 230 7 is_stmt 0 view .LVU180
 717 0026 0A28     		cmp	r0, #10
 718 0028 01D0     		beq	.L49
 231:Core/Src/SPI_FRAM.c ****       char* buffer = value;
 232:Core/Src/SPI_FRAM.c ****       return buffer;
 233:Core/Src/SPI_FRAM.c ****     }
 234:Core/Src/SPI_FRAM.c ****     index++;
 719              		.loc 1 234 5 is_stmt 1 view .LVU181
 720              		.loc 1 234 10 is_stmt 0 view .LVU182
 721 002a 0134     		adds	r4, r4, #1
 722              	.LVL69:
 227:Core/Src/SPI_FRAM.c ****     value[index] = FRAM_read8(*addr);
 723              		.loc 1 227 8 is_stmt 1 view .LVU183
 228:Core/Src/SPI_FRAM.c ****     ++*addr;
 724              		.loc 1 228 18 is_stmt 0 view .LVU184
 725 002c F3E7     		b	.L48
 726              	.L49:
 235:Core/Src/SPI_FRAM.c ****   }
 236:Core/Src/SPI_FRAM.c **** }
 727              		.loc 1 236 1 view .LVU185
 728 002e 01A8     		add	r0, sp, #4
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 18


 729 0030 4DB0     		add	sp, sp, #308
 730              	.LCFI21:
 731              		.cfi_def_cfa_offset 12
 732              		@ sp needed
 733 0032 30BD     		pop	{r4, r5, pc}
 734              		.loc 1 236 1 view .LVU186
 735              		.cfi_endproc
 736              	.LFE139:
 738              		.section	.text.FRAM_getID,"ax",%progbits
 739              		.align	1
 740              		.global	FRAM_getID
 741              		.syntax unified
 742              		.thumb
 743              		.thumb_func
 744              		.fpu fpv4-sp-d16
 746              	FRAM_getID:
 747              	.LVL70:
 748              	.LFB140:
 237:Core/Src/SPI_FRAM.c **** 
 238:Core/Src/SPI_FRAM.c **** void FRAM_getID(uint8_t *manufacturerID, uint16_t *productID){
 749              		.loc 1 238 62 is_stmt 1 view -0
 750              		.cfi_startproc
 751              		@ args = 0, pretend = 0, frame = 8
 752              		@ frame_needed = 0, uses_anonymous_args = 0
 753              		.loc 1 238 62 is_stmt 0 view .LVU188
 754 0000 70B5     		push	{r4, r5, r6, lr}
 755              	.LCFI22:
 756              		.cfi_def_cfa_offset 16
 757              		.cfi_offset 4, -16
 758              		.cfi_offset 5, -12
 759              		.cfi_offset 6, -8
 760              		.cfi_offset 14, -4
 761 0002 82B0     		sub	sp, sp, #8
 762              	.LCFI23:
 763              		.cfi_def_cfa_offset 24
 764 0004 0546     		mov	r5, r0
 765 0006 0C46     		mov	r4, r1
 239:Core/Src/SPI_FRAM.c ****   uint8_t cmd = OPCODE_RDID;
 766              		.loc 1 239 3 is_stmt 1 view .LVU189
 767              		.loc 1 239 11 is_stmt 0 view .LVU190
 768 0008 9F23     		movs	r3, #159
 769 000a 8DF80730 		strb	r3, [sp, #7]
 240:Core/Src/SPI_FRAM.c ****   uint8_t a[4] = {0, 0, 0, 0};
 770              		.loc 1 240 3 is_stmt 1 view .LVU191
 771              		.loc 1 240 11 is_stmt 0 view .LVU192
 772 000e 0022     		movs	r2, #0
 773 0010 0092     		str	r2, [sp]
 241:Core/Src/SPI_FRAM.c ****   CS_LOW();
 774              		.loc 1 241 3 is_stmt 1 view .LVU193
 775 0012 2021     		movs	r1, #32
 776              	.LVL71:
 777              		.loc 1 241 3 is_stmt 0 view .LVU194
 778 0014 4FF09040 		mov	r0, #1207959552
 779              	.LVL72:
 780              		.loc 1 241 3 view .LVU195
 781 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 782              	.LVL73:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 19


 783              		.loc 1 241 11 is_stmt 1 view .LVU196
 242:Core/Src/SPI_FRAM.c ****   HAL_SPI_Transmit(&SPI_FRAM_HANDLE, &cmd, 1, 10);
 784              		.loc 1 242 3 view .LVU197
 785 001c 174E     		ldr	r6, .L56
 786 001e 0A23     		movs	r3, #10
 787 0020 0122     		movs	r2, #1
 788 0022 0DF10701 		add	r1, sp, #7
 789 0026 3046     		mov	r0, r6
 790 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 791              	.LVL74:
 243:Core/Src/SPI_FRAM.c ****   HAL_SPI_Receive(&SPI_FRAM_HANDLE, (uint8_t *)a, sizeof(a), 10);
 792              		.loc 1 243 3 view .LVU198
 793 002c 0A23     		movs	r3, #10
 794 002e 0422     		movs	r2, #4
 795 0030 6946     		mov	r1, sp
 796 0032 3046     		mov	r0, r6
 797 0034 FFF7FEFF 		bl	HAL_SPI_Receive
 798              	.LVL75:
 244:Core/Src/SPI_FRAM.c ****   CS_HIGH();
 799              		.loc 1 244 3 view .LVU199
 800 0038 0122     		movs	r2, #1
 801 003a 2021     		movs	r1, #32
 802 003c 4FF09040 		mov	r0, #1207959552
 803 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
 804              	.LVL76:
 805              		.loc 1 244 12 view .LVU200
 245:Core/Src/SPI_FRAM.c ****   if(a[1] == 0x7f){
 806              		.loc 1 245 3 view .LVU201
 807              		.loc 1 245 7 is_stmt 0 view .LVU202
 808 0044 9DF80130 		ldrb	r3, [sp, #1]	@ zero_extendqisi2
 809              		.loc 1 245 5 view .LVU203
 810 0048 7F2B     		cmp	r3, #127
 811 004a 0BD0     		beq	.L55
 246:Core/Src/SPI_FRAM.c ****     // Device with continuation code (0x7F) in their second byte
 247:Core/Src/SPI_FRAM.c ****     // Manu ( 1 byte)  - 0x7F - Product (2 bytes)
 248:Core/Src/SPI_FRAM.c ****     *manufacturerID = (a[0]);
 249:Core/Src/SPI_FRAM.c ****     *productID = (a[2] << 8) + a[3];
 250:Core/Src/SPI_FRAM.c ****   } else {
 251:Core/Src/SPI_FRAM.c ****     // Device without continuation code
 252:Core/Src/SPI_FRAM.c ****     // Manu ( 1 byte)  - Product (2 bytes)
 253:Core/Src/SPI_FRAM.c ****     *manufacturerID = (a[0]);
 812              		.loc 1 253 5 is_stmt 1 view .LVU204
 813              		.loc 1 253 25 is_stmt 0 view .LVU205
 814 004c 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 815              		.loc 1 253 21 view .LVU206
 816 0050 2B70     		strb	r3, [r5]
 254:Core/Src/SPI_FRAM.c ****     *productID = (a[1] << 8) + a[2];
 817              		.loc 1 254 5 is_stmt 1 view .LVU207
 818              		.loc 1 254 20 is_stmt 0 view .LVU208
 819 0052 9DF80120 		ldrb	r2, [sp, #1]	@ zero_extendqisi2
 820              		.loc 1 254 33 view .LVU209
 821 0056 9DF80230 		ldrb	r3, [sp, #2]	@ zero_extendqisi2
 822              		.loc 1 254 30 view .LVU210
 823 005a 03EB0223 		add	r3, r3, r2, lsl #8
 824              		.loc 1 254 16 view .LVU211
 825 005e 2380     		strh	r3, [r4]	@ movhi
 826              	.L51:
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 20


 255:Core/Src/SPI_FRAM.c ****   }
 256:Core/Src/SPI_FRAM.c **** }
 827              		.loc 1 256 1 view .LVU212
 828 0060 02B0     		add	sp, sp, #8
 829              	.LCFI24:
 830              		.cfi_remember_state
 831              		.cfi_def_cfa_offset 16
 832              		@ sp needed
 833 0062 70BD     		pop	{r4, r5, r6, pc}
 834              	.LVL77:
 835              	.L55:
 836              	.LCFI25:
 837              		.cfi_restore_state
 248:Core/Src/SPI_FRAM.c ****     *productID = (a[2] << 8) + a[3];
 838              		.loc 1 248 5 is_stmt 1 view .LVU213
 248:Core/Src/SPI_FRAM.c ****     *productID = (a[2] << 8) + a[3];
 839              		.loc 1 248 25 is_stmt 0 view .LVU214
 840 0064 9DF80030 		ldrb	r3, [sp]	@ zero_extendqisi2
 248:Core/Src/SPI_FRAM.c ****     *productID = (a[2] << 8) + a[3];
 841              		.loc 1 248 21 view .LVU215
 842 0068 2B70     		strb	r3, [r5]
 249:Core/Src/SPI_FRAM.c ****   } else {
 843              		.loc 1 249 5 is_stmt 1 view .LVU216
 249:Core/Src/SPI_FRAM.c ****   } else {
 844              		.loc 1 249 20 is_stmt 0 view .LVU217
 845 006a 9DF80220 		ldrb	r2, [sp, #2]	@ zero_extendqisi2
 249:Core/Src/SPI_FRAM.c ****   } else {
 846              		.loc 1 249 33 view .LVU218
 847 006e 9DF80330 		ldrb	r3, [sp, #3]	@ zero_extendqisi2
 249:Core/Src/SPI_FRAM.c ****   } else {
 848              		.loc 1 249 30 view .LVU219
 849 0072 03EB0223 		add	r3, r3, r2, lsl #8
 249:Core/Src/SPI_FRAM.c ****   } else {
 850              		.loc 1 249 16 view .LVU220
 851 0076 2380     		strh	r3, [r4]	@ movhi
 852 0078 F2E7     		b	.L51
 853              	.L57:
 854 007a 00BF     		.align	2
 855              	.L56:
 856 007c 00000000 		.word	hspi1
 857              		.cfi_endproc
 858              	.LFE140:
 860              		.section	.text.setAddressSize,"ax",%progbits
 861              		.align	1
 862              		.global	setAddressSize
 863              		.syntax unified
 864              		.thumb
 865              		.thumb_func
 866              		.fpu fpv4-sp-d16
 868              	setAddressSize:
 869              	.LVL78:
 870              	.LFB141:
 257:Core/Src/SPI_FRAM.c **** 
 258:Core/Src/SPI_FRAM.c **** /*!
 259:Core/Src/SPI_FRAM.c ****  *   @brief  Sets adress size to provided value
 260:Core/Src/SPI_FRAM.c ****  *   @param  nAddressSize
 261:Core/Src/SPI_FRAM.c ****  *           address size in bytes
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 21


 262:Core/Src/SPI_FRAM.c ****  */
 263:Core/Src/SPI_FRAM.c **** void setAddressSize(uint8_t nAddressSize) {
 871              		.loc 1 263 43 is_stmt 1 view -0
 872              		.cfi_startproc
 873              		@ args = 0, pretend = 0, frame = 0
 874              		@ frame_needed = 0, uses_anonymous_args = 0
 875              		@ link register save eliminated.
 264:Core/Src/SPI_FRAM.c ****   spi_fram._nAddressSizeBytes = nAddressSize;
 876              		.loc 1 264 3 view .LVU222
 877              		.loc 1 264 31 is_stmt 0 view .LVU223
 878 0000 014B     		ldr	r3, .L59
 879 0002 1870     		strb	r0, [r3]
 265:Core/Src/SPI_FRAM.c **** }...
 880              		.loc 1 265 1 view .LVU224
 881 0004 7047     		bx	lr
 882              	.L60:
 883 0006 00BF     		.align	2
 884              	.L59:
 885 0008 00000000 		.word	spi_fram
 886              		.cfi_endproc
 887              	.LFE141:
 889              		.section	.text.FRAM_begin,"ax",%progbits
 890              		.align	1
 891              		.global	FRAM_begin
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 895              		.fpu fpv4-sp-d16
 897              	FRAM_begin:
 898              	.LVL79:
 899              	.LFB133:
  99:Core/Src/SPI_FRAM.c **** bool FRAM_begin(uint8_t nAddressSizeBytes) {
 900              		.loc 1 99 44 is_stmt 1 view -0
 901              		.cfi_startproc
 902              		@ args = 0, pretend = 0, frame = 0
 903              		@ frame_needed = 0, uses_anonymous_args = 0
  99:Core/Src/SPI_FRAM.c **** bool FRAM_begin(uint8_t nAddressSizeBytes) {
 904              		.loc 1 99 44 is_stmt 0 view .LVU226
 905 0000 08B5     		push	{r3, lr}
 906              	.LCFI26:
 907              		.cfi_def_cfa_offset 8
 908              		.cfi_offset 3, -8
 909              		.cfi_offset 14, -4
 101:Core/Src/SPI_FRAM.c ****   if (SPI_FRAM_HANDLE.State != HAL_SPI_STATE_READY) {
 910              		.loc 1 101 3 is_stmt 1 view .LVU227
 101:Core/Src/SPI_FRAM.c ****   if (SPI_FRAM_HANDLE.State != HAL_SPI_STATE_READY) {
 911              		.loc 1 101 22 is_stmt 0 view .LVU228
 912 0002 064B     		ldr	r3, .L66
 913 0004 93F85D30 		ldrb	r3, [r3, #93]	@ zero_extendqisi2
 914 0008 DBB2     		uxtb	r3, r3
 101:Core/Src/SPI_FRAM.c ****   if (SPI_FRAM_HANDLE.State != HAL_SPI_STATE_READY) {
 915              		.loc 1 101 6 view .LVU229
 916 000a 012B     		cmp	r3, #1
 917 000c 01D0     		beq	.L65
 102:Core/Src/SPI_FRAM.c ****     return false;
 918              		.loc 1 102 12 view .LVU230
 919 000e 0020     		movs	r0, #0
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 22


 920              	.LVL80:
 921              	.L62:
 106:Core/Src/SPI_FRAM.c **** }
 922              		.loc 1 106 1 view .LVU231
 923 0010 08BD     		pop	{r3, pc}
 924              	.LVL81:
 925              	.L65:
 104:Core/Src/SPI_FRAM.c ****   setAddressSize(3);
 926              		.loc 1 104 3 is_stmt 1 view .LVU232
 927 0012 0320     		movs	r0, #3
 928              	.LVL82:
 104:Core/Src/SPI_FRAM.c ****   setAddressSize(3);
 929              		.loc 1 104 3 is_stmt 0 view .LVU233
 930 0014 FFF7FEFF 		bl	setAddressSize
 931              	.LVL83:
 105:Core/Src/SPI_FRAM.c ****   return true;
 932              		.loc 1 105 3 is_stmt 1 view .LVU234
 105:Core/Src/SPI_FRAM.c ****   return true;
 933              		.loc 1 105 10 is_stmt 0 view .LVU235
 934 0018 0120     		movs	r0, #1
 935 001a F9E7     		b	.L62
 936              	.L67:
 937              		.align	2
 938              	.L66:
 939 001c 00000000 		.word	hspi1
 940              		.cfi_endproc
 941              	.LFE133:
 943              		.global	_supported_devices
 944              		.comm	spi_fram,1,4
 945              		.section	.rodata._supported_devices,"a"
 946              		.align	2
 947              		.set	.LANCHOR0,. + 0
 950              	_supported_devices:
 951 0000 04       		.byte	4
 952 0001 00       		.space	1
 953 0002 0101     		.short	257
 954 0004 00080000 		.word	2048
 955 0008 04       		.byte	4
 956 0009 00       		.space	1
 957 000a 0203     		.short	770
 958 000c 00200000 		.word	8192
 959 0010 04       		.byte	4
 960 0011 00       		.space	1
 961 0012 0323     		.short	8963
 962 0014 00200000 		.word	8192
 963 0018 04       		.byte	4
 964 0019 00       		.space	1
 965 001a 0325     		.short	9475
 966 001c 00800000 		.word	32768
 967 0020 04       		.byte	4
 968 0021 00       		.space	1
 969 0022 0348     		.short	18435
 970 0024 00000400 		.word	262144
 971 0028 04       		.byte	4
 972 0029 00       		.space	1
 973 002a 0349     		.short	18691
 974 002c 00000800 		.word	524288
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 23


 975 0030 7F       		.byte	127
 976 0031 00       		.space	1
 977 0032 7F7F     		.short	32639
 978 0034 00800000 		.word	32768
 979 0038 AE       		.byte	-82
 980 0039 00       		.space	1
 981 003a 0583     		.short	-31995
 982 003c 00200000 		.word	8192
 983              		.text
 984              	.Letext0:
 985              		.file 2 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\machine\\_default_types.h"
 986              		.file 3 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\sys\\_stdint.h"
 987              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 988              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/system_stm32l4xx.h"
 989              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l412xx.h"
 990              		.file 7 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 991              		.file 8 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 992              		.file 9 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 993              		.file 10 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_flash.h"
 994              		.file 11 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_spi.h"
 995              		.file 12 "Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 996              		.file 13 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\sys\\lock.h"
 997              		.file 14 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\sys\\_types.h"
 998              		.file 15 "c:\\ncs\\v1.7.1\\toolchain\\opt\\lib\\gcc\\arm-none-eabi\\9.2.1\\include\\stddef.h"
 999              		.file 16 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\sys\\reent.h"
 1000              		.file 17 "Core/Inc/SPI_FRAM.h"
 1001              		.file 18 "c:\\ncs\\v1.7.1\\toolchain\\opt\\arm-none-eabi\\include\\string.h"
 1002              		.file 19 "<built-in>"
ARM GAS  C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 SPI_FRAM.c
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:18     .text.check_supported_device:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:26     .text.check_supported_device:00000000 check_supported_device
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:122    .text.check_supported_device:00000044 $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:127    .text.FRAM_writeEnable:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:134    .text.FRAM_writeEnable:00000000 FRAM_writeEnable
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:200    .text.FRAM_writeEnable:00000040 $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:205    .text.FRAM_sleepEnable:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:212    .text.FRAM_sleepEnable:00000000 FRAM_sleepEnable
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:295    .text.FRAM_sleepEnable:00000058 $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:300    .text.FRAM_write8:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:307    .text.FRAM_write8:00000000 FRAM_write8
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:434    .text.FRAM_write8:00000080 $d
                            *COM*:00000001 spi_fram
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:440    .text.FRAM_write:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:447    .text.FRAM_write:00000000 FRAM_write
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:517    .text.FRAM_read8:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:524    .text.FRAM_read8:00000000 FRAM_read8
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:652    .text.FRAM_read8:0000008c $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:658    .text.FRAM_read:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:665    .text.FRAM_read:00000000 FRAM_read
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:739    .text.FRAM_getID:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:746    .text.FRAM_getID:00000000 FRAM_getID
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:856    .text.FRAM_getID:0000007c $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:861    .text.setAddressSize:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:868    .text.setAddressSize:00000000 setAddressSize
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:885    .text.setAddressSize:00000008 $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:890    .text.FRAM_begin:00000000 $t
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:897    .text.FRAM_begin:00000000 FRAM_begin
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:939    .text.FRAM_begin:0000001c $d
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:950    .rodata._supported_devices:00000000 _supported_devices
C:\Users\Admin\AppData\Local\Temp\cc0JKBqc.s:946    .rodata._supported_devices:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
hspi1
HAL_Delay
strlen
HAL_SPI_Receive
memset
